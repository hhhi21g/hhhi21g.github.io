### 数据集

#### 1. Classification of Heart Sound Signal Using Multiple Features

> https://github.com/yaseen21khan/Classification-of-Heart-Sound-Signal-Using-Multiple-Features-

- **音频数量：**1000，200正常 + 800异常
- **类别划分：**5类，每类200条
  - 正常：N
  - 主动脉狭窄：AS
  - 二尖瓣反流：MR
  - 二尖瓣狭窄：MS
  - 二尖瓣脱垂：MVP
- **采样率：**8000HZ

****

#### 2. BMD-HS-Dataset(BUET)

> https://github.com/mHealthBuet/BMD-HS-Dataset

- **音频数量：**864条心音记录，涵盖59名患者的8个胸部位置录音，每条持续20秒，采样率4kHZ
  - 健康：168条
  - 患病：695条

- **类别划分：**6类，每条可同时归属于多个类别
  - N，AS，MR，MS
  - 主动脉返流：AR
  - 多瓣病：MD

- 每条录音伴随年龄、性别、是否吸烟、城乡居住等附加信息

****

#### 3.  PeterJ.Bentley-heartchallenge(取健康音频)

> https://istethoscope.peterjbentley.com/heartchallenge/index.html

- **Dataset A:** iPhone用户使用iStethoscope Pro App收集的心音，包含背景噪声与真实应用场景
  - 176条，采样率4kHZ
    - **N(31条)**
    - 杂音: Murmur
    - 额外心音: Extra Heart Sound
    - 伪影: Artifact
- **Dataset B:** 临床环境中使用DigiScope数据听诊器采集，环境相对专业，噪声较低
  - 656条，采样率4kHZ
    - **N(320条)**,Murmur	
    - 期外收缩：Extrasystole

- 录音时长1s-30s不等

- 总462条正常

****

#### 4. PhysioNet/CinC Challenge 2016

> https://physionet.org/content/challenge-2016/1.0.0/

- **音频总数：**正常总数**665**条，异常总数**2575**条
- **录音时长：**5s-120s
- **采样率：**2000HZ
- **类别划分：** 超过1000名受试者，包括成人与儿童; 环境多样，包括医院、家庭访问，具有真实噪声背景

  - 正常:    Normal
  - 异常： Abnormal
- 噪声过多无法判断：Unsure

****

#### 5. normal

通过耳机录制的心音，均为健康样本，共96条。

****

#### 6. Heartbeat-Sounds(取健康音频)

> https://www.kaggle.com/datasets/kinguistics/heartbeat-sounds

- 151条正常

****

#### 7. CirCor DigiScope(取健康音频)

> https://physionet.org/content/circor-heart-sound/1.0.3/

- 健康：2358
- 异常：606

****

#### 总健康心音数：4100

#### 总患病心音数：4676

<p>
    <img src="https://hhhi21g.github.io/assets/img/xinan/x4.png" alt="alt text" style="zoom:50%;" />
</p>

****

#### 数据集统一处理

> clean_data.py

- 统一读取7个来源的数据集，0正常，1异常
- 训练集：验证集：测试集 = 7：1：2

- **音频数据：**
  - 立体声，则仅保留一个声道；
  - 重采样至16kHz;
  - 带通滤波：20 ~ 400 Hz;
  - 裁剪、填充至10s;
  - **数据增强：**
    - 随机遮蔽1600点：30%；
    - 加入轻微高斯噪声：30%；
    - 音量随机缩放：30%；
  - 保存为.npy
- **图像谱图：**
  - 重采样至1kHz;
  - 随机裁剪、填充至3s；
  - 使用polycoherence计算二阶谱图；
  - 谱图标准化至0~255，以灰度图形式保存为.png

**最终文件夹结构：**

<p>
    <img src="https://hhhi21g.github.io/assets/img/xinan/x5.png" alt="alt text" style="zoom:50%;" />
</p>

> aug_data: 音频对应npy
>
> bispec_output: 二阶谱图
>
> netadata: 图像与音频对应关系